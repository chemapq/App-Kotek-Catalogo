---
import Layout from "../../layouts/Layout.astro";
---


<Layout title="Plano 3D">
    <main>
        <section>
			<div class='imageWrapper3D'>
				<!-- fill with SVG areas -->
				<svg viewBox="0 0 1920 1080" class='image-area image-area--orange-1'>
					
						

					<text x="670" y="400" class="svg-text">+</text>
					<text x="1050" y="250" class="svg-text">+</text>
					<text x="1250" y="250" class="svg-text">+</text>
					<text x="1470" y="170" class="svg-text">+</text>
					<text x="1560" y="370" class="svg-text">+</text>
					<text x="1560" y="640" class="svg-text">+</text>
					<text x="1300" y="640" class="svg-text">+</text>
					<text x="450" y="710" class="svg-text">+</text>
					<text x="750" y="760" class="svg-text">+</text>
					<g class="secondrow" id="room10" ><path d="M 174.3,837.7 243,521.7 H 392.2 l 50.3,-302 523.5,-1.2 0.6,-145.5 629.7,0.6 79.2,365.8 45.4,0.6 62.6,273.1 -562.2,3.1 8.6,122.7 z" />
					<g class="toprow" id="room1" ><path d="M 963.5,500.5 H 396.1 l 47.4,-280.3 520.4,-0.4 z" />
					</g>
					<g class="toprow" id="room2" ><path d="m 1182.8,356.1 -78.8,0.1 -2,-49.2 H 968.5 L 967.7,75.1 1163.6,74.8 Z" />
					</g>
					<g class="toprow" id="room3" ><path d="m 1404,355 -78.1,0.1 -6.1,-48.2 -135.9,0.5 -16.3,-232.8 197.3,0.2 z" />
					</g>
					<g class="toprow" id="room4" ><path d="m 1627.6,228.7 h -111.4 l -5.7,-35.4 -124.1,1 -16.8,-120 225.2,0.4 z" />
					</g>
					<g class="toprow" id="room5" ><path d="m 1673.1,437.7 -43.7,-205 -112.6,0.3 37.2,206.2 z" />
					</g>
					<g class="toprow" id="room6" ><path d="m 1781.6,710.7 -295.7,0.7 -39.1,-268.5 98.3,0.2 8.6,49.6 178.6,-0.2 z" />
					</g>
					<g class="toprow" id="room7" ><path d="m 1480.7,710.7 -296.4,1.2 -14,-218.7 178.6,0.5 -6.1,-50.8 h 99 z" />
					</g>
					<g class="toprow" id="room8" ><path d="m 837.3,837.8 -144.1,0.5 16.3,-219.8 135.7,-0.5 z" />
					</g>
					<g class="toprow" id="room9" ><path d="M 241.2,520.7 H 714.3 L 690.5,839.6 172.9,838.6 Z" />
					</g>
					</g>
					
					<img src="/raul-orbit.webp"/>
			</svg>
				<!-- -->
				
				
			  </div>

			 
			
        </section>
		<div>
			<dialog id="modal1" class="modal layama">
				<button class="closeButton">X</button>
				<iframe src="https://kotekvirtual.es/salon-comedor/" height="100%" width="100%" frameborder="0"></iframe>
			</dialog>
			<dialog id="modal2" class="modal">
				<button class="closeButton">X</button>
				<img src="/despacho.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal3" class="modal layama">
				<button class="closeButton">X</button>
				<iframe src="https://kotekvirtual.es/dormitorio-principal/" height="100%" width="100%" frameborder="0"></iframe>
			</dialog>
			<dialog id="modal4" class="modal">
				<button class="closeButton">X</button>
				<img src="/bano.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal5" class="modal">
				<button class="closeButton">X</button>
				<img src="/aseo.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal6" class="modal">
				<button class="closeButton">X</button>
				<img src="/dormitorio-2.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal7" class="modal">
				<button class="closeButton">X</button>
				<img src="/dormitorio3.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal8" class="modal">
				<button class="closeButton">X</button>
				<img src="/aseo.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal9" class="modal">
				<button class="closeButton">X</button>
				<img src="/cocina.webp" alt="ficha comercial" class="modalImage">
			</dialog>
			<dialog id="modal10" class="modal layama">
				<button class="closeButton">X</button>
				<iframe src="https://kotekvirtual.es/salon-comedor/" height="100%" width="100%" frameborder="0"></iframe>
			</dialog>
			
		  </div>
    </main>
</Layout>

<script type="module">
	document.querySelector("#room1").addEventListener("click",()=>{
	document.getElementById("modal1").showModal()
})
document.querySelector("#room2").addEventListener("click",()=>{
	document.getElementById("modal2").showModal()
})
document.querySelector("#room3").addEventListener("click",()=>{
	document.getElementById("modal3").showModal()
})
document.querySelector("#room4").addEventListener("click",()=>{
	document.getElementById("modal4").showModal()
})
document.querySelector("#room5").addEventListener("click",()=>{
	document.getElementById("modal5").showModal()
})
document.querySelector("#room6").addEventListener("click",()=>{
	document.getElementById("modal6").showModal()
})
document.querySelector("#room7").addEventListener("click",()=>{
	document.getElementById("modal7").showModal()
})
document.querySelector("#room8").addEventListener("click",()=>{
	document.getElementById("modal8").showModal()
})
document.querySelector("#room9").addEventListener("click",()=>{
	document.getElementById("modal9").showModal()
})
// document.querySelector("#room10").addEventListener("click",()=>{
// 	document.getElementById("modal10").showModal()
// })



	document.getElementById("modal1").addEventListener('click', (event)=> {
		  let rect = document.getElementById("modal1").getBoundingClientRect();
		  let isInDialogA = (rect.top <= event.clientY && event.clientY <= rect.top + rect.height &&
		rect.left <= event.clientX && event.clientX <= rect.left + rect.width);
		  if (!isInDialogA) {
			document.getElementById("modal1").close();
		  }
	});
	document.getElementById("modal2").addEventListener('click', (event)=> {
		  let rectB = document.getElementById("modal2").getBoundingClientRect();
		  let isInDialogB = (rectB.top <= event.clientY && event.clientY <= rectB.top + rectB.height &&
		rectB.left <= event.clientX && event.clientX <= rectB.left + rectB.width);
		  if (!isInDialogB) {
			document.getElementById("modal2").close();
		  }
	});
	document.getElementById("modal3").addEventListener('click', (event)=> {
		  let rectC = document.getElementById("modal3").getBoundingClientRect();
		  let isInDialogC = (rectC.top <= event.clientY && event.clientY <= rectC.top + rectC.height &&
		rectC.left <= event.clientX && event.clientX <= rectC.left + rectC.width);
		  if (!isInDialogC) {
			document.getElementById("modal3").close();
		  }
	});
	document.getElementById("modal4").addEventListener('click', (event)=> {
		  let rectD = document.getElementById("modal4").getBoundingClientRect();
		  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
		rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
		  if (!isInDialogD) {
			document.getElementById("modal4").close();
		  }
	});
	document.getElementById("modal5").addEventListener('click', (event)=> {
		  let rectD = document.getElementById("modal5").getBoundingClientRect();
		  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
		rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
		  if (!isInDialogD) {
			document.getElementById("modal5").close();
		  }
	});
	document.getElementById("modal6").addEventListener('click', (event)=> {
		  let rectD = document.getElementById("modal6").getBoundingClientRect();
		  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
		rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
		  if (!isInDialogD) {
			document.getElementById("modal6").close();
		  }
	});
	document.getElementById("modal7").addEventListener('click', (event)=> {
		  let rectD = document.getElementById("modal7").getBoundingClientRect();
		  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
		rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
		  if (!isInDialogD) {
			document.getElementById("modal7").close();
		  }
	});
	document.getElementById("modal8").addEventListener('click', (event)=> {
		  let rectD = document.getElementById("modal8").getBoundingClientRect();
		  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
		rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
		  if (!isInDialogD) {
			document.getElementById("modal8").close();
		  }
	});
	document.getElementById("modal9").addEventListener('click', (event)=> {
		  let rectD = document.getElementById("modal9").getBoundingClientRect();
		  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
		rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
		  if (!isInDialogD) {
			document.getElementById("modal9").close();
		  }
	});
	// document.getElementById("modal10").addEventListener('click', (event)=> {
	// 	  let rectD = document.getElementById("modal10").getBoundingClientRect();
	// 	  let isInDialogD = (rectD.top <= event.clientY && event.clientY <= rectD.top + rectD.height &&
	// 	rectD.left <= event.clientX && event.clientX <= rectD.left + rectD.width);
	// 	  if (!isInDialogD) {
	// 		document.getElementById("modal10").close();
	// 	  }
	// });
	
	</script>


<style>
	h1 {
		font-size: 4rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin: 0;
		padding: 0;
	}
	section{
		background-color: hsl(240, 15%, 17%);
		height: calc(100vh - 48px);
		margin: 24px;
		border-radius: 13px;
		background-position: 50% 70%;
		overflow: hidden;
		display: flex;
		align-items: center;
		justify-content: center;

	}
.imageWrapper3D {

  position: relative;
  max-height: calc(100vh - 48px);
  aspect-ratio: 16 / 9;



}

.imageWrapper3D img {
	width:100%; 
  height:100%;
  border-radius: 12px;
  aspect-ratio: 16 / 9;

}

.image-area{
  	position: absolute;
	left: 0;
	top: 0;
}

.toprow{
	fill: #75A93A;
    cursor: pointer;
	stroke: white;
	stroke-width: 4;
	z-index: 9;
	fill-opacity: 0;

}
.secondrow{
	fill: #75A93A;
    fill-opacity: 0.4;
    cursor: pointer;
}
.toprow :hover{
	fill-opacity: 0.4;


}
.secondrow :hover{
	fill-opacity: 0.6;
}
dialog{
	height: calc(100vh - 16px);
	border: none;
}
dialog::backdrop{
	background-color: #26263399;
}

.outline{
	fill: none;
	stroke: white;
	stroke-width: .2;
}
.svg-text{
	fill: #a93a75;
	font: bold 5rem "Poppins",sans-serif;
	z-index: 9;
}
.modal{
	width: fit-content;
	height: fit-content;
	border-radius: 12px;
	overflow: hidden;
	outline: none;
	
}
.modalImage{
	border-radius: 8px;
	max-width: 80vw;
	max-height: 80vh;
}
.layama{
	width: auto;
	height: 80vh;
	aspect-ratio: auto;
	max-width: 80vw;

}
.closeButton{
	position: fixed;
	top: 8px;
	right: 8px;
	height: 64px;
	width: 64px;
	outline: none;
	background-color: transparent;
	cursor: pointer;
	border: none;
	font-size: 4rem;
	color: white;
}
</style>
